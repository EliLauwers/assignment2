{"chunk_definitions":[{"row":25,"row_count":1,"visible":true,"expansion_state":0,"options":{"engine":"r","label":"setup","include":false},"document_id":"C71A02B3","chunk_id":"csetup_chunk","chunk_label":"setup"},{"row":40,"row_count":1,"visible":true,"expansion_state":0,"options":{"engine":"sql","connection":"con","label":"unnamed-chunk-1"},"document_id":"C71A02B3","chunk_id":"cdlftcbjdxe32","chunk_label":"unnamed-chunk-1"},{"row":55,"row_count":1,"visible":true,"expansion_state":0,"options":{"engine":"sql","connection":"con","label":"unnamed-chunk-2"},"document_id":"C71A02B3","chunk_id":"cr7q0icigkqam","chunk_label":"unnamed-chunk-2"},{"row":69,"row_count":1,"visible":true,"expansion_state":0,"options":{"engine":"sql","connection":"con","label":"unnamed-chunk-3"},"document_id":"C71A02B3","chunk_id":"cm28cq8cv8eet","chunk_label":"unnamed-chunk-3"},{"row":75,"row_count":1,"visible":true,"expansion_state":0,"options":{"engine":"sql","connection":"con","code":["/* ","  Get all distinct email adresses of people who ","  have rented cars at only enterprise(number)","  ","  This documentation starts at the inner queries and moves from inner","  to outer queries.","  ","  r1 and r2 are identical to each other.","  Both are tables where every registration is linked to the ","  enterprisenumbers given the cars licenseplate","","  Next, inner join r1 with r2 on identical emails but different enterpises.","  The resulting table are pairs of registrations from one person at distinct","  enterprises.","  ","  from the paired table, only distinct email adresses are selected. ","  These email adresses are all people who have registrations for cars","  from different enterprises.","  ","  The outer query is rather simple. It returns every distinct emailadress that ","  is not present in the inner query table. As such, it results in a table ","  consisting of all registrations of all people who have rented at only one","  distinct enterprise","*/","","SELECT DISTINCT r.email ","FROM registration r","WHERE r.email NOT IN (","  SELECT DISTINCT r1.email","  FROM (","  \tSELECT *","  \tFROM registration r","  \tINNER JOIN car c USING(license_plate)","  ) r1","  INNER JOIN (","  \tSELECT *","  \tFROM registration r","  \tINNER JOIN car c USING(license_plate)","  ) r2 ON ","  r1.email = r2.email AND ","  r1.enterprisenumber != r2.enterprisenumber",")","\t"],"label":"unnamed-chunk-4"},"document_id":"C71A02B3","chunk_id":"ca5n8dhyeshlf","chunk_label":"unnamed-chunk-4"}],"doc_write_time":1647607397}